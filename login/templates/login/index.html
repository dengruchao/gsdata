{% extends 'base.html' %}

{% block navbar %}
<nav class="navbar navbar-dark bg-dark">
  <span class="navbar-brand mb-0 h1 w-75">小超数据</span>
  <span class="navbar-text">欢迎您，{{ user_info.username }}</span>
  <span class="navbar-text">剩余次数: <span class="id=id_times">{{ user_info.times }}</span></span>
  <a class="nav-link" href="{% url 'login:logout' %}">登出</a>
</nav>
{% endblock navbar %}

{% block container %}
<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item">
    <a class="nav-link active" id="wechat-tab" data-toggle="tab" href="#wechat" role="tab" aria-controls="wechat" aria-selected="true">微信文章</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="weibo-tab" data-toggle="tab" href="#weibo" role="tab" aria-controls="weibo" aria-selected="false">微博文章</a>
  </li>
  <!--
  <li class="nav-item">
    <a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact" role="tab" aria-controls="contact" aria-selected="false">Contact</a>
  </li>
  -->
</ul>
<div class="tab-content" id="myTabContent">

  <div class="tab-pane fade show active" id="wechat" role="tabpanel" aria-labelledby="wechat-tab">
    <div class="container">
    <div class="row">
      <div class="col-md-8">
        <form action="{% url 'wechat:search' %}" method="post" role="form" class="mt-3" id="searchForm">
          {% csrf_token %}
          <div class="form-group row">
            <label for="{{ form.wx_name.id_for_label }}" class="col-md-2 col-form-label">{{ form.wx_name.label }}</label>
            <div class="col-md-8">
              {{ form.wx_name }}
              {{ form.wx_name.errors }}
            </div>
            <span class="text-danger">*</span>
          </div>
          <div class="form-group row">
            <label for="{{ form.posttime_start.id_for_label }}" class="col-md-2 col-form-label">发布日期</label>
            <div class="col-md-4">
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text" id="{{ form.posttime_start.id_for_label }}">From</span>
                </div>
                {{ form.posttime_start }}
              </div>
              {{ form.posttime_start.errors }}
            </div>
            <div class="col-md-4">
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text" id="{{ form.posttime_end.id_for_label }}"> To </span>
                </div>
                {{ form.posttime_end }}
              </div>
              {{ form.posttime_end.errors }}
            </div>
          </div>
          <div class="form-group row">
            <label for="{{ form.keywords.id_for_label }}" class="col-md-2 col-form-label">{{ form.keywords.label }}</label>
            <div class="col-md-8">
              {{ form.keywords }}
              {{ form.keywords.errors }}
            </div>
          </div>
          <div class="form-group row">
            <label for="{{ form.sort.id_for_label }}" class="col-md-2 col-form-label">{{ form.sort.label }}</label>
            <div class="col-md-8">
              {{ form.sort }}
              {{ form.sort.errors }}
            </div>
          </div>
          <div class="form-group row">
            <label for="{{ form.order.id_for_label }}" class="col-md-2 col-form-label">{{ form.order.label }}</label>
            {% for opt in form.order %}
            <div class="col-md-2">
              <div class="form-check">
                {{ opt }}
              </div>
              {{ form.order.errors }}
            </div>
            {% endfor %}
          </div>
          <button type="submit" class="btn btn-primary">查询</button>
        </form>
      </div>
    </div>
  </div>
    </div>

  <div class="tab-pane fade" id="weibo" role="tabpanel" aria-labelledby="weibo-tab">开发中...</div>
  <!--
  <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">...</div>
  -->
</div>

{% endblock container %}
